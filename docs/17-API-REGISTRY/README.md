# API Registry

This folder contains auto-generated and manually annotated endpoint documentation for every route module in the application.

## How It Works

Each `.md` file corresponds to a route file (or group of related route files) in `server/src/routes/`. Files are generated by the "Sync API Docs" feature in the Docs Browser. The auto-generated endpoint tables are enclosed in HTML comments and should not be edited manually.

Manual notes, Auth & Authorization metadata, and the Module Info table above the generated section can be edited freely â€” they are preserved during re-sync.

## Active vs Legacy Docs

Some modules have both v1 and v2 documentation files. The table below clarifies which are currently mounted and active.

| File | Status | Notes |
|------|--------|-------|
| `blog-v2.md` | **Active** | Mounted at `/api/blog` via `blog-v2.routes.ts` |
| `blog.md` | Deprecated | Legacy v1. Only `publicMenuRoutes` named export is still mounted. |
| `cms-posts-v2.md` | **Active** | Mounted via `cms-posts-v2.routes.ts` |
| `cms-posts.md` | Deprecated | Legacy v1. Not mounted in `routes.ts`. |

All other files in this folder document currently active route modules.

## Key Files

| File | Description |
|------|-------------|
| `main.md` | Health, readiness, and version endpoints defined directly in `server/routes.ts` |
| `admin-*.md` | Admin-scoped routes (require `requireAdmin` or `requireFullAccess`) |
| `customer-*.md` | Customer-scoped routes (require `isAuthenticated`) |
| `payments.md` | Public payment/checkout routes |
| `webhooks-stripe.md` | Stripe webhook handler |
